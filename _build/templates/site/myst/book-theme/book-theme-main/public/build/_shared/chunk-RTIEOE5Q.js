var h=/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;function n(t){return t?t.match(h)!==null:!1}var s={test(t){return!!t.hostname.match(/(?:dx\.)?(?:www\.)?doi\.org/)},parse(t){return t.pathname.replace(/^\//,"")}},m={test(t){return t.hostname.endsWith("elifesciences.org")&&t.pathname.startsWith("/articles/")},parse(t){return`10.7554/eLife.${t.pathname.replace("/articles/","")}`}},l={test(t){return t.hostname.endsWith("zenodo.org")&&!!t.pathname.match(/^\/(?:record|badge\/latestdoi)\//)},parse(t){return`10.5281/zenodo.${t.pathname.replace(/^\/(?:record|badge\/latestdoi)\//,"")}`}};function d(t){let r=t.pathname.split("/").filter(e=>!!e);return r.slice(0,-1).map((e,a)=>`${e}/${r[a+1]}`)}var p={test(t){return!!d(t).find(n)},parse(t){return d(t).find(n)}},R={test(t){return n(t.searchParams.get("id"))},parse(t){var r;return(r=t.searchParams.get("id"))!==null&&r!==void 0?r:void 0}},c=[s],u=[s,p,m,l,R];function E(t,r){return t?!!i(t,r):!1}function i(t,r){let e;if(t){if(n(t))return t;if(t.startsWith("doi:")&&(e=t.slice(4),n(e)))return e;try{let a=new URL(t.startsWith("http")?t:`http://${t}`),o=(r?.strict?c:u).find(f=>f.test(a));if(!o)return;e=o.parse(a)}catch{}if(n(e))return e}}function S(t,r){let e=i(t,r);if(e)return`https://doi.org/${e}`}var P={validatePart:n,validate:E,normalize:i,buildUrl:S};export{P as a};
